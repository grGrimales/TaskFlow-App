<div class="p-6">
  <h1 class="text-2xl font-bold mb-4">
    {{ isEditMode ? 'Editar Tarea' : 'Crear Nueva Tarea' }}
  </h1>
  
  <form [formGroup]="form" (ngSubmit)="onSave()">
    <mat-form-field appearance="outline" class="w-full">
      <mat-label>Título de la Tarea</mat-label>
      <input matInput formControlName="title" required>
    </mat-form-field>

    <mat-form-field appearance="outline" class="w-full mt-4">
      <mat-label>Descripción</mat-label>
      <textarea matInput formControlName="description" rows="4"></textarea>
    </mat-form-field>

    <div class="mt-4">
      <h3 class="text-lg font-medium text-gray-700 mb-2">Asignar a:</h3>
      <mat-selection-list #userList (selectionChange)="onSelectionChange(userList.selectedOptions.selected)">
        <mat-list-option *ngFor="let member of boardMembers" [value]="member._id" [selected]="selectedUserIds.includes(member._id)">
          {{ member.name }} ({{ member.email }})
        </mat-list-option>
      </mat-selection-list>
    </div>

    <div class="flex justify-end space-x-4 mt-6">
      <button mat-stroked-button type="button" (click)="onCancel()">Cancelar</button>
      <button mat-flat-button color="primary" type="submit" [disabled]="form.invalid">
        {{ isEditMode ? 'Guardar Cambios' : 'Crear Tarea' }}
      </button>
    </div>
  </form>
</div>